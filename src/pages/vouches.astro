---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer.astro';

// Generate array of vouch image numbers
const vouchImages = Array.from({ length: 47 }, (_, i) => i + 1);
---

<Layout title="Client Vouches - Qustreso Studios" description="See what our satisfied clients have to say about our Roblox development services" currentPage="vouches">
  
  <!-- Hero Section -->
  <section class="pt-24 pb-16">
    <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
      <h1 class="text-4xl sm:text-5xl font-bold text-white mb-6">
        Client <span class="bg-gradient-to-r from-primary-400 to-secondary-400 bg-clip-text text-transparent">Vouches</span>
      </h1>
      <p class="text-xl text-gray-300 mb-8">
        Proof of my successful partnerships and satisfied clients. 
        Every vouch represents a completed project and a happy client.
      </p>
      <div class="flex items-center justify-center gap-4 text-sm text-gray-400">
        <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
        <span>50+ Satisfied Clients</span>
        <span>â€¢</span>
        <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
        <span>100% Success Rate</span>
      </div>
    </div>
  </section>

  <!-- Vouches Grid -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Filter Controls -->
      <div class="flex flex-wrap justify-center gap-4 mb-12">
        <button class="filter-btn active" data-filter="all">
          All Vouches
        </button>
        <button class="filter-btn" data-filter="recent">
          Recent
        </button>
        <button class="filter-btn" data-filter="featured">
          Featured
        </button>
      </div>

      <!-- Vouches Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6" id="vouches-grid">
        {vouchImages.map((num) => (
          <div class="vouch-item group" data-category="all">
            <div class="vouch-card" data-vouch-number={num}>
              <img 
                src={`/src/public/Images/Vouches/${num}.png`} 
                alt={`Client Vouch ${num}`}
                class="vouch-image"
                loading="lazy"
              />
              <div class="vouch-overlay">
                <div class="vouch-info">
                  <span class="vouch-number">#{num}</span>
                  <div class="view-btn">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M7 17L17 7M17 7H7M17 7V17"/>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Load More Button -->
      <div class="text-center mt-12">
        <button class="load-more-btn" id="load-more-btn">
          <span class="flex items-center gap-2">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
            </svg>
            Load More Vouches
          </span>
        </button>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="py-16">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-white mb-4">
          What My Clients Say
        </h2>
        <p class="text-lg text-gray-300">
          Real feedback from developers who trusted me with their projects
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="testimonial-card">
          <div class="testimonial-content">
            <p class="text-gray-300 mb-4">
              "Qustreso delivered exactly what I needed for my MMO RPG. The combat system is flawless and the data stores work perfectly. Highly recommended!"
            </p>
            <div class="testimonial-author">
              <div class="author-info">
                <h4 class="font-semibold text-white">Alex Chen</h4>
                <p class="text-sm text-gray-400">Game Developer</p>
              </div>
              <div class="rating">
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </div>
            </div>
          </div>
        </div>

        <div class="testimonial-card">
          <div class="testimonial-content">
            <p class="text-gray-300 mb-4">
              "Professional, responsive, and incredibly skilled. The ability system they built for my game exceeded all expectations. Will definitely work with again!"
            </p>
            <div class="testimonial-author">
              <div class="author-info">
                <h4 class="font-semibold text-white">Sarah Johnson</h4>
                <p class="text-sm text-gray-400">Studio Owner</p>
              </div>
              <div class="rating">
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </div>
            </div>
          </div>
        </div>

        <div class="testimonial-card">
          <div class="testimonial-content">
            <p class="text-gray-300 mb-4">
              "Fast delivery, clean code, and excellent communication throughout the project. The stat system they created is exactly what I envisioned."
            </p>
            <div class="testimonial-author">
              <div class="author-info">
                <h4 class="font-semibold text-white">Mike Rodriguez</h4>
                <p class="text-sm text-gray-400">Indie Developer</p>
              </div>
              <div class="rating">
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16">
    <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
      <div class="glass-primary rounded-2xl p-8 md:p-12 border border-primary-400/30">
        <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6">
          Ready to join my satisfied clients?
        </h2>
        <p class="text-xl text-gray-300 mb-8">
          Start your project today and see why developers choose Qustreso Studios.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/hire" class="glass px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 hover:scale-105 border border-white/20">
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/>
              </svg>
              Start Your Project
            </span>
          </a>
          <a href="/shop" class="glass-secondary px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 hover:scale-105 border border-secondary-400/30">
            <span class="flex items-center gap-2">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
              </svg>
              View Academy
            </span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Vouch Modal -->
  <div id="vouch-modal" class="fixed inset-0 bg-black bg-opacity-90 z-50 hidden flex items-center justify-center p-4">
    <div class="relative w-full h-full flex items-center justify-center">
      <button id="close-modal" class="absolute top-6 right-6 text-white hover:text-gray-300 z-10 glass p-3 rounded-full border border-white/20">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        </svg>
      </button>
      <img id="modal-image" src="" alt="Vouch" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl">
    </div>
  </div>

  <Footer />
</Layout>

<style>
  .filter-btn {
    @apply px-6 py-3 glass rounded-xl font-medium transition-all duration-300 hover:scale-105 border border-white/20 text-gray-300 hover:text-white;
  }
  
  .filter-btn.active {
    @apply glass-primary text-primary-400 border-primary-400/30;
  }
  
  .vouch-card {
    @apply relative overflow-hidden rounded-xl glass transition-all duration-300 hover:scale-105 cursor-pointer border border-white/10 aspect-square;
  }
  
  .vouch-image {
    @apply w-full h-full object-cover transition-transform duration-300;
  }
  
  .vouch-card:hover .vouch-image {
    @apply scale-110;
  }
  
  .vouch-overlay {
    @apply absolute inset-0 bg-black/60 opacity-0 transition-all duration-300 flex items-end;
  }
  
  .vouch-card:hover .vouch-overlay {
    @apply opacity-100;
  }
  
  .vouch-info {
    @apply w-full p-4 flex justify-between items-center;
  }
  
  .vouch-number {
    @apply text-white text-lg font-semibold;
  }
  
  .view-btn {
    @apply glass hover:bg-white/30 text-white p-3 rounded-full transition-all duration-200 border border-white/20;
  }
  
  .load-more-btn {
    @apply glass-primary px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 hover:scale-105 border border-primary-400/30 text-primary-400 hover:text-white;
  }
  
  .testimonial-card {
    @apply glass rounded-2xl p-6 transition-all duration-300 hover:scale-105 border border-white/10;
  }
  
  .testimonial-content {
    @apply h-full flex flex-col;
  }
  
  .testimonial-author {
    @apply flex justify-between items-center mt-auto pt-4 border-t border-white/10;
  }
  
  .rating {
    @apply flex gap-1;
  }
</style>

<script>
  // Filter functionality
  const filterButtons = document.querySelectorAll('.filter-btn');
  const vouchItems = document.querySelectorAll('.vouch-item');

  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      const filter = button.getAttribute('data-filter');
      
      // Update active button
      filterButtons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');
      
      // Filter vouches (placeholder - would be implemented with real data)
      console.log(`Filtering by: ${filter}`);
    });
  });

  // Load more functionality
  const loadMoreBtn = document.getElementById('load-more-btn');
  if (loadMoreBtn) {
    loadMoreBtn.addEventListener('click', () => {
      // This would typically load more vouches from an API
      alert('More vouches coming soon!');
    });
  }

  // Vouch modal functionality
  function openVouchModal(vouchNumber: string) {
    const modal = document.getElementById('vouch-modal');
    const modalImage = document.getElementById('modal-image');
    
    if (modal && modalImage && modalImage instanceof HTMLImageElement) {
      modalImage.src = `/src/public/Images/Vouches/${vouchNumber}.png`;
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
  }

  // Add click event listeners to vouch cards
  document.addEventListener('DOMContentLoaded', () => {
    const vouchCards = document.querySelectorAll('.vouch-card');
    
    vouchCards.forEach(card => {
      card.addEventListener('click', () => {
        const vouchNumber = card.getAttribute('data-vouch-number');
        if (vouchNumber) {
          openVouchModal(vouchNumber);
        }
      });
    });
  });

  // Close modal functionality
  document.addEventListener('DOMContentLoaded', () => {
    const closeModal = document.getElementById('close-modal');
    const vouchModal = document.getElementById('vouch-modal');

    if (closeModal && vouchModal) {
      // Close button click
      closeModal.addEventListener('click', () => {
        vouchModal.classList.add('hidden');
        document.body.style.overflow = 'auto';
      });

      // Click outside image to close
      vouchModal.addEventListener('click', (e) => {
        if (e.target === vouchModal) {
          vouchModal.classList.add('hidden');
          document.body.style.overflow = 'auto';
        }
      });

      // ESC key to close
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !vouchModal.classList.contains('hidden')) {
          vouchModal.classList.add('hidden');
          document.body.style.overflow = 'auto';
        }
      });
    }
  });
</script> 